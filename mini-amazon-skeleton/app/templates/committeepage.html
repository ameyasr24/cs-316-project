{% extends "base.html" %}

{% block content %}
<p><a href="\committee">Return to all committees</a></p>
<br>
<h2>Donation data for {{cname[0]}}</h2>
<h5>of type {{ctype[0]}}</h5>
<form  action="" method="post">
  {{ form.hidden_tag() }}

<div class="form-inline">
  <p>
    Recipient
    {{ form.to_ent(size=15) }}
    {% for error in form.to_ent.errors %}
    <span style="color: red;">[{{ error }}]</span>
    {% endfor %}
  </p>
  Recipient Type
  {{form.recipient}}
  <p>
    {{ form.from_date.label }}
    <input type="date" {{form.from_date(class='datepicker')}} 
    {% for error in form.from_date.errors %}
    <span style="color: red;">[{{ error }}]</span>
    {% endfor %}
  
    {{ form.to_date.label }} 
    <input type="date" {{form.to_date(class='datepicker')}}
    {% for error in form.to_date.errors %}
    <span style="color: red;">[{{ error }}]</span>
    {% endfor %}
  </p>
  <p>
    {{ form.order_by.label }} 
    {{ form.order_by }}
    {% for error in form.order_by.errors %}
    <span style="color: red;">[{{ error }}]</span>
    {% endfor %}
  </p>
  <p>
    {{ form.sort.label }} 
    {{ form.sort }}
    {% for error in form.sort.errors %}
    <span style="color: red;">[{{ error }}]</span>
    {% endfor %}
  </div>
<div class="form-inline">
  <p class = "inline">
    Calculate total sum? {{ form.total }}
    {% for error in form.total.errors %}
    <span style="color: red;">[{{ error }}]</span>
    {% endfor %}
  {{ form.search() }}</p>
</div>

</form>
<p>
  {% with messages = messages %}
  {% if messages %}
  <ul>
    {% for message in messages %}
    <li>{{ message }}</li>
    <br>
    {% endfor %}
  </ul>
  {% endif %}
  {% endwith %}
</p>
<div id="universal-table-wrapper">
<table class='table table-hover table-bordered container'>
  <thead class="thead-dark">
    <tr>
      <th scope="col">Recipient Type</th>
      <th scope="col">Donation Recipient</th>
      <th scope="col">Transaction Date</th>
      <th scope="col">Donation Amount</th>
      <th scope="col">Election Cycle</th>
    </tr>
  </thead>
  <tbody>
    {% for c in all_committees %}
      <tr>
        <td>{{c.entity_tp}}</td>
        <td>{{c.name_contributor}}</td>
        <td>{{c.transaction_date}}</td>
        <td>${{c.transaction_amount}}</td>
        <td>{{c.cycle}}</td>
      </tr>
    {% endfor %}
  </tbody>
</table>
</div>



{% endblock %}
