{% extends "base.html" %}

{% block content %}

<br>
<h4 class="page-header">Search for donations involving different PACs!</h4>
<form  action="" method="post">
  {{ form.hidden_tag() }}
  
<div class="form-inline">
  <p>
    Search for a committee: 
    {{ form.query }}
    <br>
    View election cycles: {{form.view}}
<br>
Select committee of type: {{form.committee_type}}
    Sort by: {{form.order_by}} {{form.sort}}
    <br>
    {{form.rows}} rows per page
    {% for error in form.query.errors %}
    <span style="color: red;">[{{ error }}]</span>
    {% endfor %}
 <br>
  {{ form.submit() }}
</p>

</div>
{% if not err %}
<h3>Committees:</h3>

{{pagination.info}}
{{pagination.links}}
<div id="universal-table-wrapper">
<table class='table table-hover table-bordered container'>
  <thead class="thead-dark">
    <tr>
      <th scope="col">Recipient Type</th>
      <th scope="col">Name</th>
      <th scope="col">Transaction Amount</th>
      <th scope ="col">Transaction Date</th>
      <th scope="col">Election Cycle</th>

    </tr>
  </thead>
  <tbody>

    {% for c in all_committees %}
      <tr>
        <td>{{c.entity_tp}}</td>
        <td><a href="\committee\{{c.cid}}">{{c.cname}}</a></td>
        <td>{{c.transaction_amount}}</td>
        <td>{{c.transaction_date}}</td>
        <td>{{c.cycle}}</td>

      </tr></a>
    {% endfor %}
  </tbody>
</table>
{{pagination.links}}
</div>

{% endif %}

  
{% if err %} 
<p>No committees found :( </p>
{% endif %}
{% endblock %}
